         MACRO
&LABEL   MXMSGREC &DSECT=YES,&PREFIX=
.*
.* COPYRIGHT (C) EXSPANS SYSTEM AND SOFTWARE DEV. INC. 1998           *
.* MATRIX USER INTERFACE PARAMETER DEFINITION. THE STORAGE DEFINED BY
.* THIS MACRO IS COPIED INTO THE DEFINITION OF MXUSPLST AND MXPRREC
.* THIS IS DONE TO SYNCRHONIZE THE CONTENTS OF THE PARAMETER BLOCKS.
.* IF THIS BLOCK IS UPDATED ANY PROGRAM USING MXUSPLST OR MXPRREC
.* MUST BE REASSEMBLED.
.*
         LCLC &PF,&ORG
         LCLC &LB                    PREFIX
.*
         AIF ('&PREFIX' EQ '').NOPRFX
&PF      SETC  '&PREFIX'             LOCAL PREFIX
         AGO .SETLB
.NOPRFX  ANOP
&PF      SETC  'MX'                  DEFAULT PREFIX
.SETLB   ANOP
&LB      SETC  '&PF.MS'              LABEL FOR BLOCK
.*
.* DETERMINE TYPE OF LABEL TO GENERATE
.*
         AIF ('&DSECT' EQ 'NO').NODSCT
         AIF ('&DSECT' EQ 'YES').DSECT
         AGO .INVDSC
.*
.DSECT   ANOP
         AIF ('&LABEL' EQ '').NOLAB1
&LABEL   DSECT
&LB.GREC DS  0F
         AGO .GENPLS
.*
.NOLAB1  ANOP
&LB.GREC DSECT
         AGO .GENPLS
.*
.NODSCT  ANOP
         AIF ('&LABEL' EQ '').NOLAB2
&LABEL   DS  0F
.NOLAB2  ANOP
&LB.GREC DS  0F
.GENPLS  ANOP
&ORG     SETC '&LB.GREC'
*
* MESSAGE OVERLAYS
*
&LB.NOFR EQU  X'F0'            0=NO FORCE, 1=FORCE
&LB.FORC EQU  X'F1'            0=NO FORCE, 1=FORCE
*
         ORG  &ORG
&LB.GRET DS   CL40             RETURNED MESSAGE
         ORG  &ORG
*
* CONNECT TO SYSTEM PARTNERS
*
&LB.CONS ORG  &ORG
&LB.CONT DS   D                PARTNERS TOKEN
&LB.CONA DS   CL16             PARTNERS NAME
&LB.CONF DS   X                CONNECTION FLAG
&LB.CONC EQU  X'80'            THIS IS CONNECT
&LB.CONE EQU  X'40'            THIS IS CONNECT EVENT
&LB.CONG DS   X                EVENT FLAG
&LB.CONM DS   CL8              CONNECT EVENT NAME
         ORG  ,
*
* DELETE WORK AREA MESSAGE OVERLAY
*
&LB.DELW ORG  &ORG
&LB.DWA1 DS   CL4              NAME OF WA TO DELETE
&LB.DWFC DS   X                0=NO FORCE, 1=FORCE
         ORG  ,
*
* CREATE WORK AREA
*
&LB.CRTW ORG  &ORG
&LB.WSIZ DS   D                SIZE OF WORKAREA
&LB.WWA1 DS   CL4              NAME OF WA TO CREATE
&LB.PWDL DS   F                VWAD TOKEN FOR NOTIFY
&LB.SOWN DS   CL8              SYSTEM OWNER
&LB.WWFL DS   X                FLAGS
&LB.WWFM EQU  X'80'            MIRROR THIS
&LB.WWIN EQU  X'40'            INITIALIZE THIS SPACE
&LB.WWIP EQU  X'20'            INITIALIZATION PROGRESS
         ORG  ,
*
&LB.ADJV ORG  &ORG
&LB.ADNM DS   CL4              NAME OF VWA TO ADJUST
&LB.ADLN DS   CL8              NEW LENGTH OF VWA
         ORG  ,
*
&LB.COPY ORG  &ORG
&LB.PLEN DS   D                LENGTH TO COPY
&LB.PFAD DS   D                FROM ADDRESS
&LB.PTAD DS   D                TO ADDRESS
&LB.PFNM DS   CL4              FROM WORK AREA NAME
&LB.PTNM DS   CL4              TO WORK AREA NAME
         ORG  ,
*
&LB.CONN ORG  &ORG
&LB.NWA1 DS   CL4              NAME OF WA TO CONNECT TO
&LB.COTK MXTKTOKN DSECT=NO,PREFIX=&LB.RCTK SPACE CONNECTION TOKEN
         ORG  ,
*
&LB.READ ORG  &ORG
&LB.RTOK MXTKTOKN DSECT=NO,PREFIX=&LB.RTOK TOKEN TO READ FROM
&LB.RWAD DS   D                ADDRESS TO READ FROM (IN DS)
&LB.RDTO DS   F                ADDR TO READ INTO (IN USER SPACE)
&LB.RDXB DS   F                ADDR OF MXSMBLNT FOR XCF
&LB.RWLN DS   F                LEN TO READ
&LB.RBLN DS   F                BLNT THAT DESCRIBES DATASPACE
&LB.ROFF DS   F                OFFSET FROM START OF WA TO READ FROM
&LB.RROF DS   F                OFFSET FROM START OF READ
&LB.RDST DS   F                DESTINATION ADDRESS
&LB.RIDX DS   F                READ INDEX
&LB.RALN DS   F                LENGTH AVAILABLE TO READ
&LB.RARD DS   F                ACTUAL LENGTH READ
         ORG  ,
*
&LB.SRCH ORG  &ORG
&LB.HTOK MXTKTOKN DSECT=NO,PREFIX=&LB.HTOK TOKEN TO SEARCH
&LB.HOFF DS   D                OFFSET TO START AT
&LB.HLEN DS   D                LEN TO SEARCH
&LB.HCLN DS   F                LEN OF ARGUMENT
&LB.HWNM DS   CL4              WORK AREA NAME
&LB.HSTR DS   CL36             DATA TO SEARCH FOR
         ORG  ,
*
&LB.WRIT ORG  &ORG
&LB.ITOK MXTKTOKN DSECT=NO,PREFIX=&LB.ITOK TOKEN TO WRITE TO
&LB.IFRM DS   F                ADDR TO WRITE FROM (IN USER SPACE)
&LB.IFAL DS   F                WRITE ALET         (IN USER SPACE)
&LB.IWAD DS   D                ADDRESS TO WRITE TO IN DS
&LB.IWLN DS   F                LEN TO WRITE
&LB.I@PT DS   F                PARTNER TOKEN
&LB.IKEY DS   F                KEY
         ORG  ,
*
&LB.DISC ORG  &ORG
&LB.DSCT MXTKTOKN DSECT=NO,PREFIX=&LB.DSCT TOKEN TO DISCONNECT
&LB.DNAM DS   CL4              NAME OF SPACE
         ORG  ,
*
&LB.LOCK ORG  &ORG
&LB.LTOK MXTKTOKN DSECT=NO,PREFIX=&LB.LOCK TOKEN FOR LOCK
&LB.LKEY DS   F
         ORG  ,
*
* LOAD WORK AREA FROM FILE
*
&LB.LOAD ORG  &ORG
&LB.LDWN DS   CL4              NAME OF WA TO LOAD
&LB.LDSN DS   CL44             DSNAME TO LOAD FROM
         ORG  ,
*
* SAVE WORK AREA TO FILE
*
&LB.SAVE ORG  &ORG
&LB.SVWN DS   CL4              NAME OF WA TO SAVE
&LB.SVSN DS   CL44             DSNAME TO SAVE TO
         ORG  ,
*
* GET STATISTICS
*
&LB.STAT ORG  &ORG
&LB.STRQ DS   F                STAT REQUESTED
&LB.STNS EQU  0                NUMBER OF SPACES
&LB.STSD EQU  1                SPACE DETAILS
&LB.STSG EQU  2                SPACE SEGMENT DETAIL
&LB.STNW EQU  3                NUMBER OF WORK AREAS
&LB.STWD EQU  4                WORK AREA DETAIL
&LB.STWV EQU  5                WORK AREA SEGMENT DETAIL
&LB.STEV EQU  6                EVENT INFORMATION
&LB.STT# EQU  7                NUMBER OF TABLES
&LB.STTD EQU  8                TABLE DETAILS
&LB.STDM EQU  9                TABLE DIMENSIONS
&LB.STMX EQU  9                MAX REQUEST
&LB.ST00 DS   0F
&LB.STS# DS   F                SPACE NUMBER TO GET STATS FOR
&LB.STW# DS   F                WORK AREA NUMBER TO GET STATS FOR
&LB.STWN DS   CL4              WORK AREA NAME TO GET STATS FOR
         ORG  &LB.ST00
&LB.SENM DS   CL8               EVENT NAME
&LB.SETK DS   F                 TOKEN FOR NEXT
         ORG  ,
         ORG  &LB.ST00
&LB.STTN DS   CL4               TABLE NAME
&LB.STTK DS   F                 TABLE TOKEN
&LB.STT1 DS   F                 FIRST ENTRY TO REPORT
         ORG  ,
*
* EXCHANGE WORK AREAS
*
&LB.XCHN ORG  &ORG
&LB.XSWN DS   CL4              SOURCE WA NAME
&LB.XTWN DS   CL4              TARGET WA NAME
&LB.EXEX DS   X
&LB.EXNO EQU  X'F0'            DO NOT EXCHANGE WHILE IN USE
&LB.EXYS EQU  X'F1'            EXCHANGE WHILE IN USE
&LB.STOK DS   F                SOURCE TOKEN
&LB.TTOK DS   F                TARGET TOKEN
         ORG  ,
*
* EVENT CONTROL AREAS
*
&LB.EVNT ORG  &ORG
&LB.ENAM DS    CL8              EVENT NAME
&LB.ETOK DS    F                TOKEN FOR NEXT
&LB.EFLG DS    X                EVENT FLAGS
         ORG  ,
*
* CREATE TABLE
*
&LB.TCRT ORG  &ORG
&LB.TIWA DS   F                INDEX WAD
&LB.TDWA DS   F                DATA WAD
&LB.TNAM DS   F                NAME OF TABLE
&LB.T#DI DS   F                NUMBER OF DIMENSIONS
&LB.TCLN DS   F                CELL SIZE
&LB.TDIM DS   12F              START OF DIMENSION TABLE
&LB.TDMX EQU  (*-&LB.TDIM)/4   NUMBER OF ENTRIES
         ORG  ,
*
* ALLOCATE CELL
*
&LB.TCAL ORG  &ORG
&LB.TCTK DS   F                TOKEN
&LB.TCSZ DS   F                SIZE
&LB.TCAD DS   CL8              ADDRESS
         ORG  ,
*
* DELETE TABLE
*
&LB.TDEL ORG  &ORG
&LB.TDTK DS   F                TOKEN
&LB.TDNM DS   CL4              NAME
&LB.TDFR DS   X                FORCE OR NOT
         ORG  ,
*
* CONNECT TO TABLE
*
&LB.CNTB ORG  &ORG
&LB.CNTN DS   F                TABLE NAME TO CONNECT TO
         ORG  ,
*
* DISCONNECT FROM TABLE
*
&LB.DSTB ORG  &ORG
&LB.DSTK DS   F                TABLE TOKEN TO DISCONNECT FROM
         ORG  ,
*
* READ TABLE
*
&LB.TRED ORG  &ORG
&LB.TRDS DS   F
&LB.TRTK DS   F
&LB.TRCO DS   F
         ORG  ,
*
* WRITE TABLE
*
&LB.TWRT ORG  &ORG
&LB.TWSR DS   F
&LB.TWTK DS   F
&LB.TWCO DS   F
         ORG  ,
*
* LOAD AND SAVE TABLE
*
&LB.TLOD ORG  &ORG
&LB.TLNM DS   CL4
&LB.TLPF DS   CL44
         ORG  ,
*
* ADJUST VWA SIZE
*
&LB.SZVW ORG  &ORG
&LB.SZNM DS   CL4              NAME OF VWA TO ADJUST
&LB.SZSZ DS   CL8              NEW SIZE
&LB.SZKY DS   CL4              KEY
         ORG  ,
*
* SET VWA RECORD SIZE
*
&LB.RZVW  ORG  &ORG
&LB.RZTK DS   CL20             TOKEN OF VWA TO ADJUST
&LB.RZSZ DS   CL4              NEW SIZE
         ORG  ,
*
* ASSOCIATE FILE
*
&LB.ASSO ORG  &ORG
&LB.ASWA DS   CL4              WA NAME
&LB.ASRQ DS   F                0 = ASSOC 4 = UNASSOC
&LB.ASDN DS   CL44             DSNAME
         ORG  ,
*
         MXRETDEF ORG=&ORG,PREFIX=&PF
*
&LB.GLEN EQU  *-&ORG
*
         MEXIT
*
.INVDSC  ANOP
         MNOTE 8,'MXUSPLST DSECT MUST BE YES OR NO'
         MEXIT
         MEND
